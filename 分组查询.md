# sql-learning in week7(using MySQL)
<h2>分组查询</h2>
引入：在分组函数曾提到我们可以使用AVG函数计算出工资平均值。<br>
如：select AVG(salary) from employees;<br>
但我们考虑这样的一个情况：统计每个部门的平均工资。<br>
注意到这里的要求同直接计算平均工资的不同，直接计算的平均工资，相当于将所有的部门视为一个“组”，对整个“组”求平均值，而统计每个部门的时候，是按照部门的类别分“组”。这就是我们将要提到的分“组”的概念。
也就是group by子句的使用。
<h3>基本结构</h3>
select 分组函数,列名 from 表名 where 筛选条件 group by 需要被分组的列 order by 排序条件;<br>
group by后面的列必须在查询列表里
<h3>简单使用</h3>
例1：查询每个工种的最高工资<br>
SELECT MAX(salary),job_id FROM employees GROUP BY job_id;<br>
例2：查询每个位置上的部门个数<br>
SELECT COUNT(*),location_id FROM departments GROUP BY location_id;
<h3>添加where筛选条件</h3>
例：查询邮箱中包含字符a的，每个部门的平均工资<br>
SELECT AVG(salary),department_id FROM employees WHERE email LIKE '%a%' GROUP BY department_id;<br>
例：查询有奖金的每个领领导手下员工的最高工资<br>
SELECT MAX(salary),manager_id FROM employees WHERE commission_pct IS NOT NULL GROUP BY manager_id;
<h3></h3>






<ol>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>

</ol>

<img src="" alt="">


<br>



<br>